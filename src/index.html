<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self' 'unsafe-eval'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MicScribe</title>
  </head>
  <body>
    <main class="app">
      <header class="toolbar">
        <div class="field">
          <label for="language">Sprache</label>
          <select id="language">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
          </select>
        </div>
        <div class="field">
          <label for="microphone">Mikrofon</label>
          <select id="microphone"></select>
        </div>
        <button
          id="theme-toggle"
          class="theme-toggle"
          type="button"
          aria-label="Theme umschalten"
          title="Theme umschalten (hell/dunkel)"
        >
          <span class="theme-toggle-icon" id="theme-icon">ðŸŒ™</span>
        </button>
      </header>

      <section class="api-card">
        <div class="api-header">
          <div>
            <h3>Replicate API-Key</h3>
            <p>Der Key wird lokal gespeichert und danach nicht mehr angezeigt.</p>
          </div>
          <span id="token-status" class="badge">Nicht gesetzt</span>
        </div>
        <div class="api-actions">
          <input
            id="api-token"
            type="password"
            placeholder="r8_..."
            autocomplete="off"
          />
          <button id="save-token" class="primary">Speichern</button>
          <button id="clear-token" class="ghost">Entfernen</button>
        </div>
      </section>

      <section class="controls">
        <button id="record-button" class="record">Aufnehmen</button>
        <p id="status-line" class="status">Idle</p>
      </section>

      <section class="result">
        <div class="result-header">
          <h2>Transkript</h2>
          <button id="copy-button" class="copy">Copy</button>
        </div>
        <textarea
          id="transcript"
          readonly
          placeholder="Hier erscheint das Transkript..."
        ></textarea>
      </section>
    </main>
  </body>
</html>
